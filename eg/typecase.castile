fun foo(a, b: union(integer, string)) {
  var r = a;
  typecase b is integer {
    r = r + b;
  };
  typecase b is string {
    r = r + len(b);
  };
  r
}
main = fun() {
  var a = 0;
  a = foo(a, 333 as integer in union(integer, string));
  a = foo(a, "hiya" as string in union(integer, string));
  a
}
